(this["webpackJsonpcrud-fullstack-frontend"]=this["webpackJsonpcrud-fullstack-frontend"]||[]).push([[0],{11:function(e,t,r){},13:function(e,t,r){"use strict";r.r(t);var o=r(0),i=r.n(o),a=r(4),s=r.n(a),d=(r(11),r(6)),n=r(2),c=r(3);var l=e=>{let{onUserAdded:t,initialData:r}=e;const[i,a]=Object(o.useState)((null===r||void 0===r?void 0:r.name)||""),[s,d]=Object(o.useState)((null===r||void 0===r?void 0:r.email)||""),[n,l]=Object(o.useState)((null===r||void 0===r?void 0:r.password)||""),[p,x]=Object(o.useState)(!1);return Object(c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()&&s.trim()&&n.trim())if(n.length<5)alert("A senha deve ter pelo menos 5 caracteres");else{x(!0);try{const e=await fetch("http://localhost:3001/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:s,password:n})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Erro ao criar usu\xe1rio")}a(""),d(""),l(""),t&&t(),alert("Usu\xe1rio criado com sucesso!")}catch(r){alert(r instanceof Error?r.message:"Erro ao criar usu\xe1rio")}finally{x(!1)}}else alert("Por favor, preencha todos os campos")},style:{display:"grid",gap:"15px",maxWidth:"400px",margin:"0 auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"name",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Nome:"}),Object(c.jsx)("input",{type:"text",id:"name",value:i,onChange:e=>a(e.target.value),required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},placeholder:"Digite o nome completo"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"email",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Email:"}),Object(c.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>d(e.target.value),required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},placeholder:"usuario@exemplo.com"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"password",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Senha:"}),Object(c.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>l(e.target.value),required:!0,minLength:5,style:{width:"100%",padding:"8px 12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},placeholder:"M\xednimo 5 caracteres"})]}),Object(c.jsx)("button",{type:"submit",disabled:p,style:{backgroundColor:p?"#6c757d":"#007bff",color:"white",border:"none",padding:"12px 20px",borderRadius:"4px",fontSize:"16px",cursor:p?"not-allowed":"pointer",marginTop:"10px"},children:p?"Criando...":"Criar Usu\xe1rio"})]})};var p=()=>{const[e,t]=Object(o.useState)([]),[r,i]=Object(o.useState)(!0),[a,s]=Object(o.useState)(null),d=async()=>{try{i(!0);const e=await fetch("http://localhost:3001/api/users");if(!e.ok)throw new Error("Erro ao buscar usu\xe1rios");const r=await e.json();t(r),s(null)}catch(e){s(e instanceof Error?e.message:"Erro desconhecido")}finally{i(!1)}};return Object(o.useEffect)(()=>{d()},[]),r?Object(c.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:"Carregando usu\xe1rios..."}):a?Object(c.jsxs)("div",{style:{textAlign:"center",padding:"20px",color:"red"},children:[Object(c.jsxs)("p",{children:["Erro: ",a]}),Object(c.jsx)("button",{onClick:d,children:"Tentar novamente"})]}):Object(c.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[Object(c.jsx)("h2",{children:"Adicionar Novo Usu\xe1rio"}),Object(c.jsx)(l,{onUserAdded:()=>{d()}}),Object(c.jsxs)("h2",{style:{marginTop:"40px"},children:["Lista de Usu\xe1rios (",e.length,")"]}),0===e.length?Object(c.jsx)("p",{children:"Nenhum usu\xe1rio encontrado."}):Object(c.jsx)("div",{style:{display:"grid",gap:"10px"},children:e.map(e=>Object(c.jsxs)("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"5px",backgroundColor:"#f9f9f9",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{style:{margin:"0 0 5px 0"},children:e.name}),Object(c.jsx)("p",{style:{margin:"0",color:"#666"},children:e.email}),Object(c.jsxs)("small",{style:{color:"#888"},children:["Criado em: ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]}),Object(c.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("http://localhost:3001/api/users/".concat(e),{method:"DELETE"})).ok)throw new Error("Erro ao deletar usu\xe1rio");await d()}catch(t){alert(t instanceof Error?t.message:"Erro ao deletar usu\xe1rio")}})(e.id),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},children:"Excluir"})]},e.id))})]})};var x=()=>Object(c.jsx)(d.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{style:{padding:"20px",backgroundColor:"#282c34",color:"white",textAlign:"center"},children:Object(c.jsx)("h1",{children:"Sistema de Cadastro de Usu\xe1rios"})}),Object(c.jsx)("main",{style:{padding:"20px"},children:Object(c.jsx)(n.c,{children:Object(c.jsx)(n.a,{path:"/",element:Object(c.jsx)(p,{})})})})]})});s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.76a47a06.chunk.js.map